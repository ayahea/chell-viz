!function(e){function t(t){for(var o,a,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)a=s[d],r[a]&&p.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={1:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push(["./index.tsx",0]),n()}({"./index.tsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/react/index.js"),r=n("./node_modules/react-dom/index.js"),i=n("./src/ChellVizApp.tsx");r.render(o.createElement(i.ChellVizApp,null),document.getElementById("root"))},"./src/ChellVizApp.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),a=n("./node_modules/semantic-ui-react/dist/es/index.js"),s=n("./src/container/VizPanelContainer.tsx"),l=n("./src/data/chell-data.ts"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement("div",{id:"ChellVizApp"},i.createElement(a.Grid,{centered:!0,divided:"vertically"},i.createElement(a.GridRow,null,i.createElement(s.default,{dataDirs:["1","2","3"].map(function(e){return"assets/contact_map/example"+e}),supportedVisualizations:[l.VIZ_TYPE.CONTACT_MAP,l.VIZ_TYPE.NGL],initialVisualizations:[l.VIZ_TYPE.CONTACT_MAP,l.VIZ_TYPE.NGL,l.VIZ_TYPE.CONTACT_MAP],numPanels:3})),i.createElement(a.GridRow,null,i.createElement(s.default,{dataDirs:["centroids","centroids_subset","ngl","spring2/full"].map(function(e){return"assets/"+e}),initialVisualizations:[l.VIZ_TYPE["T-SNE"],l.VIZ_TYPE.SPRING],supportedVisualizations:[l.VIZ_TYPE["T-SNE"],l.VIZ_TYPE.SPRING],numPanels:2}))))},t}(i.Component);t.ChellVizApp=c},"./src/component/ChellSlider.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/rc-slider/es/index.js"),s=n("./node_modules/react/index.js");n("./node_modules/rc-slider/assets/index.css");var l=function(e){function t(t){var n=e.call(this,t)||this;return n.onAfterChange=function(e){return function(t){e&&e(t),n.setState({value:t})}},n.onChange=function(e){return function(t){e&&e(t),n.setState({value:t})}},n.state={value:t.defaultValue},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.defaultValue,n=e.hideLabelValue,o=e.max,r=e.min,l=e.label,c=e.onAfterChange,u=e.onChange,d=e.sliderProps,p=e.style;return s.createElement("div",{style:{padding:10}},!n&&s.createElement("p",null,l+": "+this.state.value),s.createElement(a.default,i({},d,{defaultValue:t,max:o,min:r,onAfterChange:this.onAfterChange(c),onChange:this.onChange(u),style:p})))},t}(s.Component);t.ChellSlider=l,t.default=l},"./src/component/ContactMap.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./node_modules/semantic-ui-react/dist/es/index.js"),l=n("./src/context/ResidueContext.ts"),c=n("./src/data/chell-data.ts"),u=n("./src/helper/ReactHelper.ts"),d=n("./src/component/ChellSlider.tsx"),p=n("./src/component/PointCloudChart.tsx"),h=n("./src/component/ScatterChart.tsx");t.defaultContactMapProps=i({contactColor:"#009999",couplingColor:"#000000",data:{contactMonomer:[],couplingScore:[],distanceMapMonomer:[],observedMonomer:[]},enableSliders:!1,height:400,highlightColor:"#0000ff"},l.initialResidueContext,{observedColor:"#ff8800",onClick:void 0,onMouseEnter:void 0,padding:0,selectedData:void 0,width:400}),t.initialContactMapState={contactPoints:[],contactViewType:c.CONTACT_VIEW_TYPE.BOTH,couplingPoints:[],highlightedPoints:[],isUsingScatterGL:!0,nodeSize:4,observedPoints:[],probabilityFilter:.99};var f=function(e){function n(n){var o=e.call(this,n)||this;return o.state=t.initialContactMapState,o.onProbabilityChange=function(){return function(e){o.setState({probabilityFilter:e/100})}},o.onNodeSizeChange=function(){return function(e){o.setState({nodeSize:e})}},o.onContactViewChange=function(){return function(e){o.setState({contactViewType:e})}},o.onRendererChange=function(){return function(e){o.setState({isUsingScatterGL:!o.state.isUsingScatterGL})}},o.onMouseEnter=function(e){return function(t){var n=t.points;e([n[0].x,n[0].y])}},o.onMouseClick=function(e){return function(t){var n=t.points;e([n[0].x,n[0].y])}},o.onMouseSelect=function(){return function(e){console.log("onMouseSelect: "+e)}},o}return r(n,e),n.prototype.componentDidMount=function(){this.setupData(this.props.data,this.state.contactViewType)},n.prototype.componentDidUpdate=function(e,t){var n=this.props,o=n.data,r=n.lockedResiduePairs,i=this.state.contactViewType;(o!==e.data||this.state.probabilityFilter!==t.probabilityFilter||i!==t.contactViewType)&&this.setupData(o,i),r&&e.lockedResiduePairs!==r&&this.setupHighlightedResidues(r)},n.prototype.render=function(){var e=this.props,t=e.contactColor,n=e.couplingColor,o=e.height,r=e.observedColor,i=e.padding,l=e.width,c=e.addLockedResiduePair,u=e.addHoveredResidues,f=e.candidateResidues,v=e.hoveredResidues,C=this.state,y=C.contactPoints,m=C.couplingPoints,g=C.isUsingScatterGL,_=C.nodeSize,b={width:l},x=[{color:t,points:y},{color:n,points:m},{color:r,points:C.observedPoints}];return a.createElement("div",{id:"ContactMapComponent",style:{padding:i}},g?a.createElement(h.default,{candidateResidues:f,height:o,hoveredResidues:v,data:x,nodeSize:_,onHoverCallback:this.onMouseEnter(u),onClickCallback:this.onMouseClick(c),onSelectedCallback:this.onMouseSelect(),width:l}):a.createElement(p.default,{candidateResidues:f,height:o,hoveredResidues:v,data:x,nodeSize:_,onHoverCallback:this.onMouseEnter(u),onClickCallback:this.onMouseClick(c),onSelectedCallback:this.onMouseSelect(),width:l}),this.props.enableSliders&&this.renderSliders(b),a.createElement(s.Checkbox,{defaultChecked:!1,label:g?"ScatterGL":"Point Cloud",toggle:!0,onChange:this.onRendererChange()}),a.createElement(d.default,{defaultValue:1,hideLabelValue:!0,label:"What to show?",max:2,min:0,onChange:this.onContactViewChange(),sliderProps:{marks:{0:"Observed",1:"Both",2:"Predicted"}},style:{width:b.width/2}}))},n.prototype.renderSliders=function(e){return a.createElement("div",null,a.createElement(d.default,{max:100,min:0,label:"Probability",defaultValue:99,onChange:this.onProbabilityChange(),style:e}),a.createElement(d.default,{max:5,min:1,label:"Node Size",defaultValue:this.state.nodeSize,onChange:this.onNodeSizeChange(),style:e}))},n.prototype.setupData=function(e,t){var n=this,o=t===c.CONTACT_VIEW_TYPE.BOTH||t===c.CONTACT_VIEW_TYPE.OBSERVED,r=t===c.CONTACT_VIEW_TYPE.BOTH||t===c.CONTACT_VIEW_TYPE.PREDICTED;this.setState({contactPoints:e.contactMonomer,couplingPoints:r?e.couplingScore.filter(function(e){return e.probability>=n.state.probabilityFilter}):[],observedPoints:o?e.observedMonomer:[]})},n.prototype.setupHighlightedResidues=function(e){for(var t=[],n=0,o=Object.keys(e);n<o.length;n++)for(var r=0,i=e[o[n]];r<i.length;r++){var a=i[r];t.push(a)}this.setState({highlightedPoints:t})},n}(a.Component);t.ContactMapClass=f,t.ContactMapWithDefaultProps=u.withDefaultProps(t.defaultContactMapProps,f);var v=function(e){return a.createElement(l.default.Consumer,null,function(n){return a.createElement(t.ContactMapWithDefaultProps,i({},e,n))})};t.ContactMap=v,t.default=v},"./src/component/NGLComponent.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/ngl/dist/ngl.esm.js"),s=n("./node_modules/react/index.js"),l=n("./node_modules/semantic-ui-react/dist/es/index.js"),c=n("./src/context/ResidueContext.ts"),u=n("./src/helper/ReactHelper.ts");t.SUPPORTED_REPS=["axes","backbone","ball+stick","distance","label","line","hyperball","spacefill"],t.defaultNGLProps=i({data:void 0,height:400},c.initialResidueContext,{padding:0,width:400}),t.initialNGLState={residueOffset:0,stage:void 0,structureComponent:void 0};var d=function(e){function n(n){var o=e.call(this,n)||this;return o.state=t.initialNGLState,o.canvas=null,o.residueSelectionRepresentations={},o.onClick=function(e){var t=o.props,n=t.addCandidateResidues,r=t.addLockedResiduePair,i=t.candidateResidues,a=t.removeCandidateResidues,s=t.removeHoveredResidues,l=o.state.structureComponent;if(e&&(e.atom||e.bond)){var c=(e.atom||e.closestBondAtom).resno+o.state.residueOffset;i.length>=1?(r(i.concat([c])),a()):n([c])}else l&&(o.removeNonLockedRepresentations(l),a(),s())},o}return r(n,e),n.prototype.componentDidMount=function(){if(this.canvas){var e=new a.Stage(this.canvas);this.setState({stage:e});var t=this.props.data;t&&this.addStructureToStage(t,e)}},n.prototype.componentWillUnmount=function(){var e=this.state.stage;e&&(e.dispose(),this.setState({stage:void 0}))},n.prototype.componentDidUpdate=function(e,t){var n=this,o=this.props,r=o.data,i=o.lockedResiduePairs,a=this.state,s=a.stage,l=a.structureComponent,c=r&&r!==e.data;r&&s&&c&&(s.removeAllComponents(),this.addStructureToStage(r,s)),l&&e.lockedResiduePairs!==i&&(this.removeHighlights(l,e.lockedResiduePairs),Object.keys(i).forEach(function(e){n.highlightElement(l,i[e])})),l&&this.props.hoveredResidues!==e.hoveredResidues&&(this.removeNonLockedRepresentations(l),this.highlightElement(l,this.props.hoveredResidues))},n.prototype.render=function(){var e=this,t=this.props,n=t.height,o=t.padding,r=t.width;return s.createElement("div",{id:"NGLComponent",style:{padding:o}},s.createElement("div",{ref:function(t){return e.canvas=t},style:{height:n,width:r}}),s.createElement(l.GridRow,null,s.createElement(l.Button,{onClick:this.props.removeAllLockedResiduePairs},"Remove Locked Residues")))},n.prototype.addStructureToStage=function(e,t){var n=this,o=t.addComponentFromObject(e);o?(this.setState({residueOffset:e.residueStore.resno[0],structureComponent:o}),t.defaultFileRepresentation(o),o.reprList.forEach(function(e){e.setParameters({opacity:1})}),o.stage.mouseControls.add("hoverPick",function(t,r){return n.onHover(t,r,e,o)}),t.signals.clicked.add(this.onClick)):console.error("StructureComponent was not created!")},n.prototype.onHover=function(e,t,n,o){if(t&&(t.atom||t.bond)){var r=(t.atom||t.closestBondAtom).resno+this.state.residueOffset;this.removeNonLockedRepresentations(o),this.highlightElement(o,[r]),this.props.addHoveredResidues([r]);var i=this.props.candidateResidues;i.length>=1&&this.highlightElement(o,i.concat([r]))}},n.prototype.removeHighlights=function(e,t){void 0===t&&(t={});var n=this.residueSelectionRepresentations;Object.keys(t).forEach(function(t){n[t].map(function(t){return e.removeRepresentation(t)})})},n.prototype.highlightElement=function(e,t){var n=this.state.residueOffset,o=t.toString(),r=t.map(function(e){return e-n}),i=this.residueSelectionRepresentations;i[o]?i[o].map(function(t){return e.removeRepresentation(t)}):i[o]=[];var a=r.join(".CA, ")+".CA";r.length>=2&&i[o].push(e.addRepresentation("distance",{atomPair:[a.split(",")],color:"skyblue",labelUnit:"nm"})),0!==r.length&&i[o].push(e.addRepresentation("ball+stick",{sele:r.join(", ")}))},n.prototype.removeNonLockedRepresentations=function(e){for(var t=this.residueSelectionRepresentations,n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];this.props.lockedResiduePairs[r]||(t[r].forEach(function(t){return e.removeRepresentation(t)}),delete this.residueSelectionRepresentations[r])}},n}(s.Component);t.NGLComponentClass=d,t.NGLComponentWithDefaultProps=u.withDefaultProps(t.defaultNGLProps,d);var p=function(e){return s.createElement(c.default.Consumer,null,function(n){return s.createElement(t.NGLComponentWithDefaultProps,i({},e,n))})};t.NGLComponent=p,t.default=p},"./src/component/PointCloudChart.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js"),l=n("./src/helper/PlotlyHelper.tsx"),c=n("./src/helper/ReactHelper.ts");t.defaultPointCloudProps={candidateResidues:new Array,height:400,hoveredResidues:new Array,onClickCallback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},onHoverCallback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},onSelectedCallback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},onUnHoverCallback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},width:400};var u=function(e){function t(t){var n=e.call(this,t)||this;return n.generateFloat32ArrayFromContacts=function(e){var t=new Float32Array(2*e.length);return e.forEach(function(e,n){t[2*n]=e.i,t[2*n+1]=e.j}),t},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.candidateResidues,o=t.height,r=t.hoveredResidues,c=t.data,u=t.nodeSize,d=t.width,p=a(t,["candidateResidues","height","hoveredResidues","data","nodeSize","width"]),h=c.map(function(t){return l.generatePointCloudData(e.generateFloat32ArrayFromContacts(t.points),t.color,u,!0)});return s.createElement(l.default,i({config:i({},l.defaultConfig),data:h,layout:i({},l.defaultLayout,{height:o,width:d,xaxis:i({},l.defaultLayout.xaxis,{gridcolor:"#ff0000",gridwidth:u,showticklabels:!1,tickvals:n.concat(r)}),yaxis:i({},l.defaultLayout.yaxis,{gridcolor:"#ff0000",gridwidth:u,showticklabels:!1,tickvals:n.concat(r)})})},p))},t}(s.Component);t.PointCloudChart=c.withDefaultProps(t.defaultPointCloudProps,u),t.default=t.PointCloudChart},"./src/component/ScatterChart.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/react/index.js"),l=n("./src/helper/PlotlyHelper.tsx"),c=n("./src/helper/ReactHelper.ts");t.defaultScatterChartProps={candidateResidues:new Array,height:400,hoveredResidues:new Array,onClickCallback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},onHoverCallback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},onSelectedCallback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},onUnHoverCallback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},width:400};var u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.candidateResidues,n=e.height,o=e.hoveredResidues,r=e.data,c=e.nodeSize,u=e.width,d=a(e,["candidateResidues","height","hoveredResidues","data","nodeSize","width"]),p=r.map(function(e){return l.generateScatterGLData(e.points,e.color,c,!0)});return s.createElement(l.default,i({config:i({},l.defaultConfig),data:p,layout:i({},l.defaultLayout,{height:n,width:u,xaxis:i({},l.defaultLayout.xaxis,{gridcolor:"#ff0000",gridwidth:c,showticklabels:!1,tickvals:t.concat(o)}),yaxis:i({},l.defaultLayout.yaxis,{gridcolor:"#ff0000",gridwidth:c,showticklabels:!1,tickvals:t.concat(o)})})},d))},t}(s.Component);t.ScatterChart=c.withDefaultProps(t.defaultScatterChartProps,u),t.default=t.ScatterChart},"./src/component/SpringComponent.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/d3/index.js"),s=n("./node_modules/pixi.js/lib/index.js"),l=n("./node_modules/react/index.js"),c=n("./src/context/CellContext.ts"),u=n("./src/helper/ReactHelper.ts");t.defaultSpringProps=i({canvasBackgroundColor:13421772,data:{links:[],nodes:[]},height:450},c.initialCellContext,{padding:0,selectedCategory:"",width:450}),t.SpringComponentWithDefaultProps=u.withDefaultProps(t.defaultSpringProps,function(e){function t(t){var n=e.call(this,t)||this;return n.pixiApp=new s.Application,n.nodeSprites=new s.Container,n.edgeSprites=new s.Container,n.state=i({},n.state),n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.height,n=e.width;this.pixiApp=new s.Application(n,t,{backgroundColor:this.props.canvasBackgroundColor,view:this.canvasElement});var o=this.pixiApp,r=this.props,i=r.data,a=r.selectedCategory;i&&(o.stage.removeChildren(),this.nodeSprites=new s.Container,this.edgeSprites=new s.Container,this.generateNodeSprites(i.nodes,this.nodeSprites,a),this.generateLinesSprite(i.links,this.edgeSprites,a),this.centerCanvas(i),o.stage.addChild(this.edgeSprites),o.stage.addChild(this.nodeSprites))},t.prototype.componentDidUpdate=function(e,t){var n=this,o=this.props,r=o.data,i=o.selectedCategory;if(r&&r!==e.data){var a=this.pixiApp;a.stage.removeChildren(),this.nodeSprites=new s.Container,this.edgeSprites=new s.Container,this.generateNodeSprites(r.nodes,this.nodeSprites,i),this.generateLinesSprite(r.links,this.edgeSprites,i),this.centerCanvas(r),a.stage.addChild(this.edgeSprites),a.stage.addChild(this.nodeSprites)}else i!==e.selectedCategory?(this.updateNodeSprites(r.nodes,this.nodeSprites,function(e){return e.category===i}),this.edgeSprites.removeChildren(),this.generateLinesSprite(r.links,this.edgeSprites,i),this.centerCanvas(r)):this.props.currentCells!==e.currentCells&&(this.updateNodeSprites(r.nodes,this.nodeSprites,function(e){return-1!==n.props.currentCells.indexOf(e.number)}),this.edgeSprites.removeChildren(),this.generateLinesSprite(r.links,this.edgeSprites,i),this.centerCanvas(r))},t.prototype.render=function(){var e=this,t=this.props,n=t.height,o=t.padding,r=t.width;return l.createElement("div",{id:"SpringComponent",style:{padding:o}},l.createElement("canvas",{ref:function(t){return e.canvasElement=t||void 0},style:{height:n,width:r}}))},t.prototype.generateLinesSprite=function(e,t,n){void 0===e&&(e=[]);for(var o=new s.Graphics,r=this.props,i=r.height,a=r.width,l=0,c=e;l<c.length;l++){var u=c[l],d=u.source,p=u.target;n&&d.category!==n&&p.category!==n||(o.lineStyle(5,16711680,1),o.moveTo(d.x,d.y),o.lineTo(p.x,p.y))}var h=o.getBounds(),f=new s.Rectangle(h.x,h.y,Math.max(a,h.width),Math.max(i,h.height)),v=this.pixiApp.renderer.generateTexture(o,s.SCALE_MODES.LINEAR,a/i,f),C=new s.Sprite(v);C.x=f.x,C.y=f.y,t.addChild(C)},t.prototype.generateNodeSprites=function(e,t,n){void 0===e&&(e=[]);for(var o=0,r=e;o<r.length;o++){var i=r[o],a=new s.Graphics;a.beginFill(i.colorHex),a.drawCircle(0,0,16),a.endFill();var l=new s.Sprite(this.pixiApp.renderer.generateTexture(a));l.x=i.x,l.y=i.y,n&&i.category!==n&&(l.alpha=.1),l.anchor.set(.5,.5),l.interactive=!0,l.scale.set(.5),t.addChild(l)}},t.prototype.updateNodeSprites=function(e,t,n){void 0===e&&(e=[]);for(var o=0;o<t.children.length;++o){var r=e[o],i=t.children[o];n(r)?i.alpha=1:i.alpha=.1}},t.prototype.centerCanvas=function(e){var t=this.edgeSprites,n=this.nodeSprites,o=this.props,r=o.height,i=o.width,s=e.nodes.map(function(e){return e.x}),l=e.nodes.map(function(e){return e.y}),c=a.max(s),u=a.max(l),d=a.min(s),p=a.min(l),h=c-d+50,f=u-p+50,v=.85/Math.max(h/i,f/r),C=v-this.nodeSprites.scale.x,y=i/2-(c+d)/2*v-n.position.x,m=r/2+30-(u+p)/2*v-n.position.y;n.position.x+=y,n.position.y+=m,n.scale.x+=C,n.scale.y+=C,t.position=n.position,t.scale=n.scale},t}(l.Component));var d=function(e){return l.createElement(c.default.Consumer,null,function(n){var o=n.currentCells;return l.createElement(t.SpringComponentWithDefaultProps,i({},e,{currentCells:o}))})};t.SpringComponent=d,t.default=d},"./src/component/TComponent.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./src/context/CellContext.ts"),l=n("./src/helper/PlotlyHelper.tsx"),c=n("./src/helper/ReactHelper.ts");t.defaultTComponentProps={data:[[0],[0]],height:400,padding:0,pointColor:"#000000",width:400};var u=c.withDefaultProps(t.defaultTComponentProps,function(e){function t(t){var n=e.call(this,t)||this;return n.onMouseSelect=function(e){return function(t){t.points&&e(t.points.map(function(e){return e.pointNumber}))}},n.state=i({},n.state),n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.data,o=t.height,r=t.padding,c=t.pointColor,u=t.width,d=new Float32Array(2*n.length);return n.forEach(function(e,t){d[2*t]=e[0],d[2*t+1]=e[1]}),a.createElement("div",{id:"TComponent",style:{padding:r}},a.createElement(s.default.Consumer,null,function(t){var r=t.addCells;return a.createElement(l.default,{config:i({},l.defaultConfig,{modeBarButtons:[["zoomOut2d","zoomIn2d"],["resetScale2d","autoScale2d"],["select2d","pan2d"]]}),data:[{marker:{color:c},mode:"markers",type:"scatter",x:n.map(function(e){return e[0]}),xaxis:"x",y:n.map(function(e){return e[1]}),yaxis:"y"}],layout:i({},l.defaultLayout,{height:o,width:u,yaxis:{autorange:!0}}),onSelectedCallback:e.onMouseSelect(r)})}))},t}(a.Component));t.TComponent=u,t.default=u},"./src/component/VizSelectorPanel.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/react/index.js"),a=n("./node_modules/semantic-ui-react/dist/es/index.js"),s=n("./src/component/NGLComponent.tsx"),l=n("./src/component/SpringComponent.tsx"),c=n("./src/component/TComponent.tsx"),u=n("./src/data/chell-data.ts"),d=n("./src/helper/ReactHelper.ts"),p=n("./src/component/ContactMap.tsx");t.defaultVizPanelProps={data:{},height:450,initialViz:u.VIZ_TYPE["T-SNE"],onDataSelect:function(e){},padding:15,selectedData:void 0,supportedVisualizations:[],width:450},t.initialVizPanelState={selectedViz:t.defaultVizPanelProps.initialViz};var h=d.withDefaultProps(t.defaultVizPanelProps,function(e){function n(n){var o=e.call(this,n)||this;return o.state=t.initialVizPanelState,o.onVizSelect=function(e,t){o.setState({selectedViz:t.value})},o.generateDropdownItems=function(e){return e.map(function(e){return{key:e,text:e,value:e}}).sort(function(e,t){return e.key.localeCompare(t.key)})},o.state={selectedViz:n.initialViz?n.initialViz:u.VIZ_TYPE.SPRING},o}return r(n,e),n.prototype.render=function(){var e=this.props,t=e.data,n=e.selectedData,o=e.supportedVisualizations,r=e.width;return i.createElement("div",{className:"VizSelectorPanel",style:{width:r}},i.createElement(a.Dropdown,{options:this.generateDropdownItems(o),fluid:!0,onChange:this.onVizSelect,defaultValue:this.props.initialViz}),i.createElement(a.Card,{fluid:!0,raised:!0},this.renderVizContainer(this.state.selectedViz,t,n)))},n.prototype.renderVizContainer=function(e,t,n){var o=this.props.padding,r=this.props.height-2*o,a=this.props.width-2*o;switch(e){case u.VIZ_TYPE["T-SNE"]:return i.createElement(c.default,{data:t["T-SNE"],height:r,padding:o,width:a});case u.VIZ_TYPE.SPRING:return i.createElement(l.default,{data:t.Spring,height:r,padding:o,width:a});case u.VIZ_TYPE.NGL:return i.createElement(s.default,{data:t.NGL,height:r,padding:o,width:a});case u.VIZ_TYPE.CONTACT_MAP:return i.createElement(p.default,{data:t["Contact Map"],enableSliders:!0,height:r,onMouseEnter:this.props.onDataSelect,padding:o,selectedData:n,width:a});default:throw new Error("Unknown viz: "+e)}},n}(i.Component));t.VizSelectorPanel=h,t.default=h},"./src/container/VizPanelContainer.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=n("./node_modules/react/index.js"),c=n("./node_modules/semantic-ui-react/dist/es/index.js"),u=n("./src/component/VizSelectorPanel.tsx"),d=n("./src/context/ChellContext.tsx"),p=n("./src/helper/DataHelper.ts"),h={currentDataDir:"",data:{}},f=n("./src/helper/ReactHelper.ts").withDefaultProps({initialVisualizations:[],numPanels:1},function(e){function t(t){var n=e.call(this,t)||this;return n.state=h,n.onDataDirChange=function(e,t){n.setState({currentDataDir:t.value})},n.state=i({},n.state,{currentDataDir:t.dataDirs[0]}),n}return r(t,e),t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n,o,r,a;return s(this,function(s){switch(s.label){case 0:e={},t=0,n=this.props.supportedVisualizations,s.label=1;case 1:return t<n.length?(o=n[t],r=e,a=o,[4,p.fetchAppropriateData(o,this.state.currentDataDir)]):[3,4];case 2:r[a]=s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return this.setState({data:i({},e)}),[2]}})})},t.prototype.componentDidUpdate=function(e,t){return a(this,void 0,void 0,function(){var e,n,o,r,a,l;return s(this,function(s){switch(s.label){case 0:if(t.currentDataDir===this.state.currentDataDir)return[3,5];e={},n=0,o=this.props.supportedVisualizations,s.label=1;case 1:return n<o.length?(r=o[n],a=e,l=r,[4,p.fetchAppropriateData(r,this.state.currentDataDir)]):[3,4];case 2:a[l]=s.sent(),s.label=3;case 3:return n++,[3,1];case 4:this.setState({data:i({},e)}),s.label=5;case 5:return[2]}})})},t.prototype.render=function(){return l.createElement(c.Grid,{className:"VizPanelContainer",columns:this.props.numPanels,centered:!0,relaxed:!0},l.createElement(c.GridRow,{columns:1,centered:!0},l.createElement(c.Dropdown,{onChange:this.onDataDirChange,options:this.props.dataDirs.map(function(e){return{key:e,text:e,value:e}}).slice(),placeholder:"Select Data Directory",search:!0})),l.createElement(d.default,null,this.renderPanels(this.props.numPanels,this.state.data,this.props.initialVisualizations).map(function(e,t){return l.createElement(c.GridColumn,{key:t},e)})))},t.prototype.renderPanels=function(e,t,n){for(var o=[],r=0;r<e;++r)o.push(l.createElement(u.default,{data:t,initialViz:n[r],supportedVisualizations:this.props.supportedVisualizations}));return o},t}(l.Component));t.VizPanelContainer=f,t.default=f},"./src/context/CellContext.ts":function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/index.js");t.initialCellContext={addCells:function(e){},currentCells:[],removeAllCells:function(e){},removeCells:function(e){}};var i=r.createContext(o({},t.initialCellContext));t.CellContext=i,t.default=i},"./src/context/ChellContext.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/react/index.js"),s=n("./src/context/CellContext.ts"),l=n("./src/context/ResidueContext.ts");t.initialState={cellContext:i({},s.initialCellContext),residueContext:i({},l.initialResidueContext)};var c=function(e){function n(n){var o=e.call(this,n)||this;return o.state=t.initialState,o.onAddCells=function(e){o.setState({cellContext:i({},o.state.cellContext,{currentCells:e})})},o.onRemoveAllCells=function(){o.setState({cellContext:i({},o.state.cellContext,{currentCells:[]})})},o.onRemoveCells=function(e){var t=o.state.cellContext.currentCells;o.setState({cellContext:i({},o.state.cellContext,{currentCells:t.filter(function(t){return-1===e.indexOf(t)})})})},o.onAddCandidateResidues=function(e){o.setState({residueContext:i({},o.state.residueContext,{candidateResidues:e.sort()})})},o.onAddHoveredResidues=function(e){o.setState({residueContext:i({},o.state.residueContext,{hoveredResidues:e.sort()})})},o.onRemoveAllResidues=function(){o.setState({residueContext:i({},o.state.residueContext,{lockedResiduePairs:{}})})},o.onRemoveCandidateResidue=function(){o.setState({residueContext:i({},o.state.residueContext,{candidateResidues:[]})})},o.onRemoveHoveredResidue=function(){o.setState({residueContext:i({},o.state.residueContext,{hoveredResidues:[]})})},o.onRemoveResidues=function(e){var t=e.join(","),n=o.state.residueContext.lockedResiduePairs;n[t]&&delete n[t]},o.onResidueSelect=function(e){var t,n=o.state.residueContext.lockedResiduePairs,r=e.sort(),a=r.toString();n[a]||o.setState({residueContext:i({},o.state.residueContext,{lockedResiduePairs:i({},n,(t={},t[a]=r,t))})})},o.state=i({},o.state,{cellContext:i({},o.state.cellContext,{addCells:o.onAddCells,removeAllCells:o.onRemoveAllCells,removeCells:o.onRemoveCells}),residueContext:i({},o.state.residueContext,{addCandidateResidues:o.onAddCandidateResidues,addHoveredResidues:o.onAddHoveredResidues,addLockedResiduePair:o.onResidueSelect,removeAllLockedResiduePairs:o.onRemoveAllResidues,removeCandidateResidues:o.onRemoveCandidateResidue,removeHoveredResidues:o.onRemoveHoveredResidue,removeLockedResiduePair:o.onRemoveResidues})}),o}return r(n,e),n.prototype.render=function(){return a.createElement(s.default.Provider,{value:this.state.cellContext},a.createElement(l.default.Provider,{value:this.state.residueContext},this.props.children))},n}(a.Component);t.ChellContext=c,t.default=c},"./src/context/ResidueContext.ts":function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react/index.js");t.initialResidueContext={addCandidateResidues:function(e){},addHoveredResidues:function(e){},addLockedResiduePair:function(e){},candidateResidues:[],hoveredResidues:[],lockedResiduePairs:{},removeAllLockedResiduePairs:function(){},removeCandidateResidues:function(){},removeHoveredResidues:function(){},removeLockedResiduePair:function(e){}};var i=r.createContext(o({},t.initialResidueContext));t.ResidueContext=i,t.default=i},"./src/data/chell-data.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CONTACT_MAP="Contact Map",e.NGL="NGL",e.SPRING="Spring",e["T-SNE"]="T-SNE"}(t.VIZ_TYPE||(t.VIZ_TYPE={})),function(e){e[e.OBSERVED=0]="OBSERVED",e[e.BOTH=1]="BOTH",e[e.PREDICTED=2]="PREDICTED"}(t.CONTACT_VIEW_TYPE||(t.CONTACT_VIEW_TYPE={}))},"./src/helper/DataHelper.ts":function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=this;Object.defineProperty(t,"__esModule",{value:!0});var a=n("./node_modules/d3/index.js"),s=n("./node_modules/ngl/dist/ngl.esm.js"),l=n("./src/data/chell-data.ts");t.fetchAppropriateData=function(e,t){return o(i,void 0,void 0,function(){return r(this,function(n){switch(e){case l.VIZ_TYPE["T-SNE"]:return[2,p(t)];case l.VIZ_TYPE.SPRING:return[2,c(t)];case l.VIZ_TYPE.NGL:return[2,f(t)];case l.VIZ_TYPE.CONTACT_MAP:return[2,v(t)];default:return[2,Promise.reject({error:"Currently no appropriate data getter for "+e})]}return[2]})})};var c=function(e){return o(i,void 0,void 0,function(){var t,n,o,i,a,s,l;return r(this,function(r){switch(r.label){case 0:return[4,d(e+"/coordinates.txt")];case 1:return t=r.sent(),[4,h(e+"/graph_data.json")];case 2:return n=r.sent(),[4,u(e+"/categorical_coloring_data.json")];case 3:for(o=r.sent(),i={},a=0;a<n.nodes.length;++a)s=n.nodes[a],i[s.number]=s,s.number in t&&(s.fixed=!0,s.x=t[s.number][0],s.y=t[s.number][1]),l=o.label_list[a],s.category=l,s.colorHex=o.label_colors[l];return n.links.forEach(function(e){var t=i[e.source],n=i[e.target];t&&n&&(e.source=t,e.target=n)}),[2,n]}})})},u=function(e){return o(i,void 0,void 0,function(){var t,n,o,i,s,l,c;return r(this,function(r){switch(r.label){case 0:return[4,a.json(e)];case 1:for(t=r.sent(),n={label_colors:{},label_list:t[Object.keys(t)[0]].label_list},o=t[Object.keys(t)[0]].label_colors,i=0,s=Object.keys(o);i<s.length;i++)l=s[i],"number"==typeof(c=o[l])?n.label_colors[l]=c:"#"===c.charAt(0)?n.label_colors[l]=Number.parseInt("0x"+c.slice(1)):n.label_colors[l]=Number.parseInt(c);return[2,n]}})})};t.fetchColorData=function(e){return o(i,void 0,void 0,function(){var t,n;return r(this,function(o){switch(o.label){case 0:return[4,a.text(e)];case 1:return t=o.sent(),n={},t.split("\n").forEach(function(e,t,o){if(e.length>0){var r=e.split(","),i=r[0],a=[];r.forEach(function(e,t,n){t>0&&a.push(parseFloat(e))}),n[i]=a}}),[2,n]}})})};var d=function(e){return o(i,void 0,void 0,function(){var t,n;return r(this,function(o){switch(o.label){case 0:return[4,a.text(e)];case 1:return t=o.sent(),n=[],t.split("\n").forEach(function(e,t,o){var r=e.split(",");if(r.length>=3){var i=parseFloat(r[1].trim()),a=parseFloat(r[2].trim()),s=parseInt(r[0].trim(),10);n[s]=[i,a]}}),[2,n]}})})},p=function(e){return o(i,void 0,void 0,function(){var t,n;return r(this,function(o){switch(o.label){case 0:return[4,a.text(e+"/tsne_output.csv")];case 1:return t=o.sent(),n=[],t.split("\n").forEach(function(e,t,o){if(e.length>0){var r=e.split(","),i=[parseFloat(r[0]),parseFloat(r[1])];n.push(i)}}),[2,n]}})})},h=function(e){return o(i,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return[4,a.json(e)];case 1:if(!(t=n.sent()).nodes||!t.links)throw new Error("Unable to parse graph_data - does it have node key(s)?");return[2,t]}})})},f=function(e){return o(i,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return 0===e.length?[2,Promise.reject("Empty path.")]:(t=e+"/protein.pdb",[4,s.autoLoad(t)]);case 1:return[2,n.sent()]}})})},v=function(e){return o(i,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return n=["contacts_monomer.csv","coupling_scores.csv","distance_map.csv","observed_monomer.csv"],[4,Promise.all(n.map(function(t){return a.text(e+"/"+t)}))];case 1:return o=r.sent(),[2,{contactMonomer:t.getMonomerContactData(o[0]),couplingScore:t.getCouplingScoresData(o[1]),distanceMapMonomer:t.getDistanceContactData(o[2]),observedMonomer:t.getMonomerContactData(o[3])}]}})})};t.getMonomerContactData=function(e){var t=[];return e.split("\n").slice(1).forEach(function(e){var n=e.split(",");3===n.length&&t.push({i:parseFloat(n[0]),j:parseFloat(n[1]),dist:parseFloat(n[2])})}),t},t.getCouplingScoresData=function(e){return e.split("\n").slice(1).map(function(e){var t=e.split(",");return{i:parseFloat(t[0]),A_i:t[1],j:parseFloat(t[2]),A_j:t[3],fn:parseFloat(t[4]),cn:parseFloat(t[5]),segment_i:t[6],segment_j:t[7],probability:parseFloat(t[8]),dist_intra:parseFloat(t[9]),dist_multimer:parseFloat(t[10]),dist:parseFloat(t[11]),precision:parseFloat(t[12])}})},t.getDistanceContactData=function(e){var t=[];return e.split("\n").slice(1).forEach(function(e){var n=e.split(",");3===n.length&&t.push({id:parseFloat(n[1]),sec_struct_3state:n[2]})}),t}},"./src/helper/PlotlyHelper.tsx":function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,s)}l((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},l=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var c,u=n("./node_modules/react/index.js"),d=n("./node_modules/plotly.js/dist/plotly.js");!function(e){e.bar="bar",e.pointcloud="pointcloud",e.scatter="scatter",e.scattergl="scattergl",e.scatter3d="scatter3d"}(c=t.PLOTLY_CHART_TYPE||(t.PLOTLY_CHART_TYPE={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.plotlyCanvas=null,t.canvasRef=null,t.resize=function(){d.Plots.resize(t.plotlyCanvas)},t.draw=function(e){return a(t,void 0,void 0,function(){var t,n,o,r;return s(this,function(i){switch(i.label){case 0:return t=e.data,n=e.layout,o=e.config,this.plotlyCanvas?(r=this,[4,d.react(this.plotlyCanvas,t,Object.assign({},n),o)]):[3,2];case 1:r.plotlyCanvas=i.sent(),i.label=2;case 2:return[2]}})})},t.onClick=function(e){var n=t.props.onClickCallback;n&&n(e)},t.onHover=function(e){var n=t.props.onHoverCallback;n&&n(e)},t.onSelect=function(e){var n=t.props.onSelectedCallback;n&&n(e)},t.onUnHover=function(e){var n=t.props.onUnHoverCallback;n&&n(e)},t}return r(t,e),t.prototype.attachListeners=function(){this.plotlyCanvas.on("plotly_click",this.onClick),this.plotlyCanvas.on("plotly_selected",this.onSelect),this.plotlyCanvas.on("plotly_hover",this.onHover),this.plotlyCanvas.on("plotly_unhover",this.onUnHover),window.removeEventListener("resize",this.resize),window.addEventListener("resize",this.resize)},t.prototype.componentWillReceiveProps=function(e){this.draw(e)},t.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){var e,t,n,o,r;return s(this,function(i){switch(i.label){case 0:return!this.canvasRef||this.plotlyCanvas?[3,2]:(e=this.props,t=e.data,n=e.layout,o=e.config,r=this,[4,d.react(this.canvasRef,t,Object.assign({},n),o)]);case 1:r.plotlyCanvas=i.sent(),this.attachListeners(),this.draw(this.props),i.label=2;case 2:return[2]}})})},t.prototype.componentWillUnmount=function(){this.plotlyCanvas&&(d.purge(this.plotlyCanvas),this.plotlyCanvas=null),window.removeEventListener("resize",this.resize)},t.prototype.render=function(){var e=this,t=this.props,n=(t.data,t.layout,t.config,t.onClickCallback,t.onHoverCallback,t.onSelectedCallback,t.onUnHoverCallback,l(t,["data","layout","config","onClickCallback","onHoverCallback","onSelectedCallback","onUnHoverCallback"]));return u.createElement("div",i({},n,{ref:function(t){return e.canvasRef=t||null}}))},t}(u.Component);t.PlotlyChart=p,t.default=p,t.defaultLayout={height:400,legend:{},showlegend:!1,title:"",width:400,xaxis:{},yaxis:{autorange:"reversed"}},t.defaultConfig={displayModeBar:!0},t.generatePointCloudData=function(e,t,n,o,r){return void 0===o&&(o=!1),i({marker:{color:t,sizemax:2*n,sizemin:n},mode:"markers",type:c.pointcloud,xy:o?new Float32Array(Array.from(e).concat(Array.from(e).slice().reverse())):e},r)},t.generateScatterGLData=function(e,t,n,o,r){void 0===o&&(o=!1);var a=e.map(function(e){return e.i}),s=e.map(function(e){return e.j});return i({marker:{color:t,sizemax:2*n,sizemin:n},mode:"markers",type:c.scattergl,x:o?a.concat(s):a,y:o?s.concat(a):s},r)}},"./src/helper/ReactHelper.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withDefaultProps=function(e,t){return t.defaultProps=e,t}}});